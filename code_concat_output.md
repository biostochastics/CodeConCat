# CodeConCat Output

## Folder Tree
```
./
    .DS_Store
    LICENSE
    README.md
    setup.py
    .gitignore
    build/
        .DS_Store
        bdist.macosx-15.0-arm64/
        lib/
            codeconcat/
                version.py
                __init__.py
                types.py
                main.py
                config/
                    config_loader.py
                    __init__.py
                transformer/
                    __init__.py
                    annotator.py
                collector/
                    github_collector.py
                    __init__.py
                    local_collector.py
                parser/
                    doc_extractor.py
                    file_parser.py
                    __init__.py
                    language_parsers/
                        julia_parser.py
                        __init__.py
                        js_ts_parser.py
                        python_parser.py
                        r_parser.py
                writer/
                    markdown_writer.py
                    __init__.py
                    json_writer.py
    .git/
        REBASE_HEAD
        ORIG_HEAD
        config
        HEAD
        description
        index
        COMMIT_EDITMSG
        FETCH_HEAD
        objects/
            95/
                a6e515145d08d947884d17adeda448478c6034
                6794544b3aa062f5d629750076da69a1962407
                4eed9b05cb510c360bdbc87704d9647f483e78
            59/
                ee60a7f7c5d5a60318999859613a362ee2fd6c
            3e/
                704c328591c8c225fc830f1c21c3f1c476a256
            68/
                f1e8879a1dfb54b44a8e07dc6d30a291e5c03d
            3b/
                47031c7c0fcb413e215a1872e12234f4325419
            03/
                8028df2766eeb67b4c79e1d63ef9d4b5f42285
            9b/
                e2f1095208a5984429d37ceeefd0dd03e01e7c
            04/
                6fc21cc89b403b6f41f1adb7e2c5d6cd3e384b
            32/
                9d69323ed9abdd709cb208912202d90a676515
                4d0111828919a20cecf3f4b1a5f49a4bb2ee83
            3d/
                c1f76bc69e3f559bee6253b24fc93acee9e1f9
            67/
                ef0f7e28bfa9d40eb98fa992ce12d306894340
            0e/
                dee0389b46d1c04ee110e0a4ff8a526c581acf
            34/
                eb00d76d25855561fe59e8d088608500f24f46
            33/
                182338cc0eeaec76aa8ef80b032bdd9a808009
                1f2822dd829558d8abeec8b9a261f8f812a759
            9d/
                0ed8a3626c3d1d002ecbea7f1ec1612fcd2041
            02/
                8acc6eddcc1939e98ce6d1186f16a661ce951b
            a3/
                77b32a4352853fb66f9aabd41de503021b5339
            b5/
                3585a5aef5a21f983ce6d147bf7505330083b6
                d74499c1948c5e16b293609fbc2a4042cd3fc7
            b4/
                7fdcf20e29cde71473f23d376112b3865e56f9
            a2/
                525634d6aff6a41e5e7491e72a31719ac619d7
            d1/
                873b89c07b81448bb97fd387c99ef402cfe89d
            ae/
                7179af8147a35a9fca5289372182d6adbbab8b
                be60b8a76c6a277a6c0bb9a5b77f7feab5d7d7
                544415d21a59f969db709a618d3aa264103ad9
            d8/
                b04eda6d60b6094bf05c7b01852dc351bf5085
            ab/
                2c1a33adca3683ee1536841b2a56884daf9de7
            f3/
                1ebfbf8db1222d69530ce185d5278391ceed5f
                b60058b7cb63af6b9cc3a831855bf8933d2502
            ee/
                2a64f14c8ecd8ede03ad4c4127d7d75d9295b6
            e3/
                f4ac47f2e10b827eaa6fce5cf5b15d69487f8c
            cf/
                8566cf87e944d8736ebcbe80a2efb4c7276a55
            ca/
                6d2102d10ac6095f604ace2376b7fa2dfbc445
            c8/
                ee6d8e1f43ceae09943b08eb89b6057ce7a6ca
            c1/
                ea14c3c6825bbdf01124dde4e65519ea9a5335
            c6/
                89d05b61bd12cda5d1fbc2b4de389f6ad9d919
            4e/
                3058df06d8877b93ed1bfb76025d5783fe5a4d
            pack/
            7c/
                353b117b9711c0d74c494fac2db363709fc07a
            89/
                abe6dfa2a75aac2044be5adab562f24e621b35
            73/
                a4009eba4e3d89fd0158d11935c91772b108a5
            7b/
                f0ad0c3d4a389e77e8d72c17394d689c325ce3
            8f/
                ac1b8f66e24dab5e43d5f27c83c23515ec09ca
            10/
                8d2faf48707e351d2e45f9abed258d9f9e2447
            4c/
                967e6cd3317d87726fd6ffc49d983bfa8c3b14
            26/
                9abef84ab7b418d437c388fd8adf74511323aa
            72/
                b312b7c0d33b1924dc514508d126a12e25fb45
            2a/
                420d77a978a1abf7de497484187904278dc75c
            6e/
                4cd03bd1e181eb0f9f2a2148410d1afcc67074
            36/
                4fc28e187656b95596ee0eab1931685c8115b1
                f89997ec0f55581e219f097d62f9577e4668bf
            31/
                e43d2a45d1d650358aec26b8e142f54de8f521
            info/
            91/
                b53b6bc79401040ff31f95039efe212909d47e
                bf4b7ac48c15742cd9cfb05bb6ac1cb85fa78d
            3a/
                9bc03ecee21af077ce6bfaa7fab74237af2fa6
            98/
                d5b5c5a4cdb06032fd0458d0315cda2f2decd2
            30/
                db2e60df92778fd226e969e061d90feecd42ec
            37/
                07f719869c07ec204500415c6863b443beab43
            99/
                215627986d303dd3dc2961ea79849576eacb8a
                30c3b8a638708f224466d4e5b19eb504639cd8
            63/
                d3a4b9912c6da42c37cd0e4972c364df11c1da
            0a/
                92d875bc035590b6604548a95b51631ab4760b
            64/
                f7bf9f4aae30fae3d6835e2413f856a8769b85
            d3/
                b9216549aca79a05585c449a444a04d15882fd
            ba/
                da151b744a06a91efe5368f4cf8ca181b3b280
            a0/
                e000d0f7a58e05badcdab3eef104b0f0e57534
                e28472e141b6c728acffb40cf8994582c9fcd3
            b8/
                0b2b74cfbcd506a8e32a692c3c09dc073ccd9f
            b1/
                d6e6cac2bb755988398f5a7357a0c9e60ad164
            aa/
                eadbd946d7c1b3844be9ee9578852c49d411e8
            db/
                7c014c122ebc7aed9e3e18997f57d46cfeae2a
            a6/
                8a789ad18201bf3e4933b6ae445801f7567630
            c3/
                a014a2aa887a5b559563bd19f77925ab51a2fd
            ea/
                0799290874ae9a12f28f57069e68489d1a80be
            e6/
                21c4676274603dca7ad934c429c7e35810fc50
                9de29bb2d1d6434b8b29ae775ad8c2e48c5391
            f0/
                8fb9e1922c234641f194dd921fad28dc8b110a
                a41d975e2c71b250a56b84cab113e673a8f8bd
            e8/
                f0a9622d08609d7d7c9795dc7990c24d1dedca
            f1/
                7a8644b22831b6f77355bea20759803cd0f288
                fdb6e8ad80c6e97564b0750511d68fe2266ddf
            e0/
                8caf84aa0e343c1e9f24fabb671d5fcfd51187
            70/
                094e4306b5b7b01ade4a3f930cd4da399809c8
            1e/
                050293e3d4774d38e35e5e64432cc4bdc6805e
            4a/
                906e6b627fb507e4d2bf4a03d37606c2cb5087
            15/
                37a71abf7de13afe8510a4bbb86dfbf66e8dfd
            85/
                9b3a72361516583e8af6dc4e246667a44ee46d
            71/
                43bb90dd265d96d1ca8d419d27d9746aae7e81
            1c/
                432b708db73827aaf4d979dcc57581b681c244
            49/
                202f47b6730c0a919adc93f76898d5d8f0d21a
            2e/
                54c29067e4d1139b545b71807896e11d238ef7
            8b/
                239cb5eb0fad6a2b3c1323287f464534a81fae
                137891791fe96927ad78e64b0aad7bded08bdc
            7a/
                16df9605f31faebfeeadd2f8319999dee89c6a
            8e/
                310ff2c390abab56db1719ab9f83a90ab58b9f
        info/
            exclude
        logs/
            HEAD
            refs/
                heads/
                    main
                remotes/
                    origin/
                        HEAD
                        main
        hooks/
            commit-msg.sample
            pre-rebase.sample
            pre-commit.sample
            applypatch-msg.sample
            fsmonitor-watchman.sample
            pre-receive.sample
            prepare-commit-msg.sample
            post-update.sample
            pre-merge-commit.sample
            pre-applypatch.sample
            pre-push.sample
            update.sample
            push-to-checkout.sample
        refs/
            heads/
                main
            tags/
            remotes/
                origin/
                    HEAD
                    main
    codeconcat.egg-info/
        PKG-INFO
        SOURCES.txt
        entry_points.txt
        requires.txt
        top_level.txt
        dependency_links.txt
    codeconcat/
        version.py
        pyproject.toml
        __init__.py
        types.py
        main.py
        config/
            config_loader.py
            __init__.py
            __pycache__/
                config_loader.cpython-311.pyc
                __init__.cpython-311.pyc
        transformer/
            __init__.py
            annotator.py
            __pycache__/
                annotator.cpython-311.pyc
                __init__.cpython-311.pyc
        tests/
            test_end_to_end.py
        collector/
            github_collector.py
            __init__.py
            local_collector.py
            __pycache__/
                local_collector.cpython-311.pyc
                github_collector.cpython-311.pyc
                __init__.cpython-311.pyc
        __pycache__/
            main.cpython-311.pyc
            types.cpython-311.pyc
            __init__.cpython-311.pyc
        parser/
            doc_extractor.py
            file_parser.py
            __init__.py
            __pycache__/
                file_parser.cpython-311.pyc
                doc_extractor.cpython-311.pyc
                __init__.cpython-311.pyc
            language_parsers/
                julia_parser.py
                __init__.py
                js_ts_parser.py
                python_parser.py
                r_parser.py
                __pycache__/
                    julia_parser.cpython-311.pyc
                    r_parser.cpython-311.pyc
                    python_parser.cpython-311.pyc
                    js_ts_parser.cpython-311.pyc
                    __init__.cpython-311.pyc
        writer/
            markdown_writer.py
            __init__.py
            json_writer.py
            __pycache__/
                json_writer.cpython-311.pyc
                markdown_writer.cpython-311.pyc
                __init__.cpython-311.pyc
```

## File: ./LICENSE
```
MIT License

Copyright (c) 2024 Sergey Kornilov for Biostochastics, LLC

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---
## File: ./setup.py
### Function: get_version
```python
import os
import re
import setuptools

# We'll read the version from codeconcat/version.py
def get_version():
    version_file = os.path.join(os.path.dirname(__file__), "codeconcat", "version.py")
    with open(version_file, "r", encoding="utf-8") as f:
        content = f.read()
        match = re.search(r'__version__\s*=\s*"([^"]+)"', content)
        if match:
            return match.group(1)
    return "0.0.0"

setuptools.setup(
    name="codeconcat",
    version=get_version(),
    author="Your Name",
    author_email="you@example.com",
    description="An LLM-friendly code aggregator and doc extractor",
    packages=setuptools.find_packages(),
    install_requires=[
        "pyyaml>=5.0",
        "pyperclip>=1.8.0",
    ],
    python_requires=">=3.8",
    entry_points={
        "console_scripts": [
            "codeconcat=codeconcat.main:cli_entry_point"
        ]
    },
)

```

---
## File: ./build/lib/codeconcat/version.py
```python
__version__ = "0.1.0"

```

---
## File: ./build/lib/codeconcat/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/types.py
### Class: Declaration
### Class: ParsedFileData
### Class: AnnotatedFileData
### Class: ParsedDocData
### Class: CodeConCatConfig
```python
"""
types.py

Holds data classes and typed structures used throughout CodeConCat.
"""

from dataclasses import dataclass, field
from typing import List, Dict, Optional


@dataclass
class Declaration:
    """
    Represents a top-level construct in a code file, e.g. a function or class.
    """
    kind: str
    name: str
    start_line: int
    end_line: int


@dataclass
class ParsedFileData:
    """
    Parsed output of a single code file.
    """
    file_path: str
    language: str
    content: str
    declarations: List[Declaration] = field(default_factory=list)


@dataclass
class AnnotatedFileData:
    """
    A file's annotated content, ready to be written (Markdown/JSON).
    """
    file_path: str
    language: str
    annotated_content: str


@dataclass
class ParsedDocData:
    """
    Represents a doc file, storing raw text + file path + doc type (md, rst, etc.).
    """
    file_path: str
    doc_type: str
    content: str


@dataclass
class CodeConCatConfig:
    """
    Global configuration object. Merged from CLI args + .codeconcat.yml.

    Fields:
      - target_path: local directory or placeholder for GitHub
      - github_url: optional GitHub repository URL
      - github_token: personal access token for private repos
      - include_languages / exclude_languages
      - exclude_paths: patterns for ignoring
      - docs: whether to parse docs
      - merge_docs: whether to merge doc content into the same output
      - doc_extensions: list of recognized doc file extensions
      - custom_extension_map: user-specified extension→language
      - output: final file name
      - format: 'markdown' or 'json'
      - max_workers: concurrency
    """

    # Basic path or GitHub info
    target_path: str = "."
    github_url: Optional[str] = None
    github_token: Optional[str] = None  # for private GitHub repos

    # Language filtering
    include_languages: List[str] = field(default_factory=list)
    exclude_languages: List[str] = field(default_factory=list)

    # Exclude patterns
    exclude_paths: List[str] = field(default_factory=list)

    # Doc extraction toggles
    docs: bool = False
    merge_docs: bool = False
    doc_extensions: List[str] = field(default_factory=lambda: [".md", ".rst", ".txt", ".rmd"])

    # Custom extension→language
    custom_extension_map: Dict[str, str] = field(default_factory=dict)

    # Output
    output: str = "code_concat_output.md"
    format: str = "markdown"  # or "json"

    # Concurrency
    max_workers: int = 4

```

---
## File: ./build/lib/codeconcat/main.py
### Function: cli_entry_point
### Function: run_codeconcat
### Function: main
```python
import argparse
import sys
from typing import List

from codeconcat.config.config_loader import load_config
from codeconcat.collector.local_collector import collect_local_files
from codeconcat.collector.github_collector import collect_github_files
from codeconcat.parser.file_parser import parse_code_files
from codeconcat.parser.doc_extractor import extract_docs
from codeconcat.transformer.annotator import annotate
from codeconcat.writer.markdown_writer import write_markdown
from codeconcat.writer.json_writer import write_json

from codeconcat.types import CodeConCatConfig, AnnotatedFileData, ParsedDocData


def cli_entry_point():
    parser = argparse.ArgumentParser(
        prog="codeconcat",
        description="CodeConCat - An LLM-friendly code aggregator and doc extractor."
    )

    parser.add_argument("target_path", nargs="?", default=".")
    parser.add_argument("--github", help="GitHub URL", default=None)
    parser.add_argument("--github-token", help="GitHub personal access token", default=None)

    parser.add_argument("--docs", action="store_true", help="Enable doc extraction")
    parser.add_argument("--merge-docs", action="store_true", help="Merge doc content with code output")

    parser.add_argument("--output", default="code_concat_output.md", help="Output file name")
    parser.add_argument("--format", choices=["markdown", "json"], default="markdown", help="Output format")

    parser.add_argument("--include-languages", nargs="*", default=[], help="Only include these languages")
    parser.add_argument("--exclude-languages", nargs="*", default=[], help="Exclude these languages")
    parser.add_argument("--exclude", nargs="*", default=[], help="Paths/patterns to exclude")

    parser.add_argument("--max-workers", type=int, default=4, help="Number of worker threads")

    args = parser.parse_args()

    cli_args = {
        "target_path": args.target_path,
        "github_url": args.github,
        "github_token": args.github_token,
        "docs": args.docs,
        "merge_docs": args.merge_docs,
        "output": args.output,
        "format": args.format,
        "include_languages": args.include_languages,
        "exclude_languages": args.exclude_languages,
        "exclude_paths": args.exclude,
        "max_workers": args.max_workers,
    }

    config = load_config(cli_args)
    run_codeconcat(config)


def run_codeconcat(config: CodeConCatConfig) -> None:
    if config.github_url:
        try:
            file_paths = collect_github_files(config.github_url, config)
        except NotImplementedError as e:
            print(e)
            sys.exit(1)
    else:
        file_paths = collect_local_files(config.target_path, config)

    if not file_paths:
        print("[CodeConCat] No files found. Check your config or directory.")
        return

    docs: List[ParsedDocData] = []
    if config.docs:
        docs = extract_docs(file_paths, config)

    parsed_files = parse_code_files(file_paths, config)

    annotated_files: List[AnnotatedFileData] = []
    for pf in parsed_files:
        annotated_files.append(annotate(pf, config))

    if config.format == "json":
        write_json(annotated_files, docs, config)
    else:
        write_markdown(annotated_files, docs, config)


def main():
    cli_entry_point()


if __name__ == "__main__":
    main()

```

---
## File: ./build/lib/codeconcat/config/config_loader.py
### Function: load_config
### Function: read_config_file
### Function: apply_dict_to_config
```python
import os
import yaml
from typing import Dict, Any
from codeconcat.types import CodeConCatConfig


def load_config(cli_args: Dict[str, Any]) -> CodeConCatConfig:
    config = CodeConCatConfig()
    file_data = read_config_file(".codeconcat.yml")

    if file_data:
        apply_dict_to_config(file_data, config)

    apply_dict_to_config(cli_args, config)

    return config


def read_config_file(path: str) -> Dict[str, Any]:
    if not os.path.exists(path):
        return {}
    try:
        with open(path, "r", encoding="utf-8") as f:
            data = yaml.safe_load(f)
            if isinstance(data, dict):
                return data
    except Exception:
        pass
    return {}


def apply_dict_to_config(data: Dict[str, Any], config: CodeConCatConfig) -> None:
    for key, value in data.items():
        if hasattr(config, key):
            if key == "custom_extension_map" and isinstance(value, dict):
                config.custom_extension_map.update(value)
            else:
                setattr(config, key, value)

```

---
## File: ./build/lib/codeconcat/config/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/transformer/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/transformer/annotator.py
### Function: annotate
```python
from codeconcat.types import ParsedFileData, AnnotatedFileData, CodeConCatConfig

def annotate(parsed_data: ParsedFileData, config: CodeConCatConfig) -> AnnotatedFileData:
    pieces = []
    pieces.append(f"## File: {parsed_data.file_path}\n")

    for decl in parsed_data.declarations:
        if decl.kind == "function":
            pieces.append(f"### Function: {decl.name}\n")
        elif decl.kind == "class":
            pieces.append(f"### Class: {decl.name}\n")
        elif decl.kind == "struct":
            pieces.append(f"### Struct: {decl.name}\n")

    pieces.append(f"```{parsed_data.language}\n{parsed_data.content}\n```\n")

    return AnnotatedFileData(
        file_path=parsed_data.file_path,
        language=parsed_data.language,
        annotated_content="".join(pieces)
    )

```

---
## File: ./build/lib/codeconcat/collector/github_collector.py
### Function: collect_github_files
### Function: build_clone_url
```python
import os
import tempfile
import shutil
import subprocess
from typing import List
from codeconcat.types import CodeConCatConfig
from codeconcat.collector.local_collector import collect_local_files


def collect_github_files(github_url: str, config: CodeConCatConfig) -> List[str]:
    temp_dir = tempfile.mkdtemp(prefix="codeconcat_github_")
    try:
        clone_url = build_clone_url(github_url, config.github_token)
        print(f"[CodeConCat] Cloning from {clone_url} into {temp_dir}")
        subprocess.run(["git", "clone", "--depth=1", clone_url, temp_dir], check=True)

        file_paths = collect_local_files(temp_dir, config)
        return file_paths

    except subprocess.CalledProcessError as e:
        raise RuntimeError(f"Failed to clone GitHub repo: {e}") from e
    finally:
        # Optionally remove the temp directory
        # shutil.rmtree(temp_dir, ignore_errors=True)
        pass


def build_clone_url(github_url: str, token: str) -> str:
    if token and "https://" in github_url:
        parts = github_url.split("https://", 1)
        return f"https://{token}@{parts[1]}"
    return github_url

```

---
## File: ./build/lib/codeconcat/collector/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/collector/local_collector.py
### Function: collect_local_files
### Function: should_skip_dir
### Function: should_include_file
### Function: matches_pattern
### Function: ext_map
```python
import os
import fnmatch
from typing import List
from concurrent.futures import ThreadPoolExecutor

from codeconcat.types import CodeConCatConfig

DEFAULT_EXCLUDES = [
    ".git",
    "*.git",
    ".DS_Store",
    "*.DS_Store"
]


def collect_local_files(root_path: str, config: CodeConCatConfig) -> List[str]:
    all_files = []
    for dirpath, dirnames, filenames in os.walk(root_path):
        if should_skip_dir(dirpath, config.exclude_paths):
            dirnames[:] = []
            continue

        for fname in filenames:
            full_path = os.path.join(dirpath, fname)
            all_files.append(full_path)

    with ThreadPoolExecutor(max_workers=config.max_workers) as executor:
        results = list(executor.map(
            lambda p: p if should_include_file(p, config) else None,
            all_files
        ))
    final_files = [r for r in results if r is not None]
    return final_files


def should_skip_dir(dirpath: str, user_excludes: List[str]) -> bool:
    combined = user_excludes + DEFAULT_EXCLUDES
    return any(matches_pattern(dirpath, pattern) for pattern in combined)


def should_include_file(path_str: str, config: CodeConCatConfig) -> bool:
    combined_excludes = config.exclude_paths + DEFAULT_EXCLUDES
    if any(matches_pattern(path_str, pat) for pat in combined_excludes):
        return False

    ext = os.path.splitext(path_str)[1].lower().lstrip(".")
    language_label = ext_map(ext, config)

    if config.include_languages and language_label not in config.include_languages:
        return False
    if language_label in config.exclude_languages:
        return False

    return True


def matches_pattern(path_str: str, pattern: str) -> bool:
    return fnmatch.fnmatch(path_str, pattern) or pattern in path_str


def ext_map(ext: str, config: CodeConCatConfig) -> str:
    if ext in config.custom_extension_map:
        return config.custom_extension_map[ext]

    builtin = {
        "py": "python",
        "js": "javascript",
        "ts": "typescript",
        "r": "r",
        "jl": "julia",
        "cpp": "cpp",
        "hpp": "cpp",
        "cxx": "cpp",
        "c": "c",
        "h": "c",
        "md": "doc",
        "rst": "doc",
        "txt": "doc",
        "rmd": "doc",
    }
    return builtin.get(ext, ext)

```

---
## File: ./build/lib/codeconcat/parser/doc_extractor.py
### Function: extract_docs
### Function: is_doc_file
### Function: parse_doc_file
### Function: read_doc_content
```python
import os
from typing import List
from concurrent.futures import ThreadPoolExecutor

from codeconcat.types import CodeConCatConfig, ParsedDocData


def extract_docs(file_paths: List[str], config: CodeConCatConfig) -> List[ParsedDocData]:
    doc_paths = [fp for fp in file_paths if is_doc_file(fp, config.doc_extensions)]

    with ThreadPoolExecutor(max_workers=config.max_workers) as executor:
        results = list(executor.map(lambda fp: parse_doc_file(fp), doc_paths))
    return results


def is_doc_file(file_path: str, doc_exts: List[str]) -> bool:
    ext = os.path.splitext(file_path)[1].lower()
    return ext in doc_exts


def parse_doc_file(file_path: str) -> ParsedDocData:
    ext = os.path.splitext(file_path)[1].lower()
    content = read_doc_content(file_path)
    doc_type = ext.lstrip(".")
    return ParsedDocData(file_path=file_path, doc_type=doc_type, content=content)


def read_doc_content(file_path: str) -> str:
    try:
        with open(file_path, "r", encoding="utf-8", errors="replace") as f:
            return f.read()
    except Exception:
        return ""

```

---
## File: ./build/lib/codeconcat/parser/file_parser.py
### Function: parse_code_files
### Function: parse_single_file
### Function: is_doc_file
### Function: read_file_content
```python
import os
from typing import List
from concurrent.futures import ThreadPoolExecutor

from codeconcat.types import CodeConCatConfig, ParsedFileData
from codeconcat.parser.language_parsers.python_parser import parse_python
from codeconcat.parser.language_parsers.js_ts_parser import parse_javascript_or_typescript
from codeconcat.parser.language_parsers.r_parser import parse_r
from codeconcat.parser.language_parsers.julia_parser import parse_julia


def parse_code_files(file_paths: List[str], config: CodeConCatConfig) -> List[ParsedFileData]:
    code_paths = [fp for fp in file_paths if not is_doc_file(fp, config.doc_extensions)]

    with ThreadPoolExecutor(max_workers=config.max_workers) as executor:
        results = list(executor.map(lambda fp: parse_single_file(fp, config), code_paths))
    return results


def parse_single_file(file_path: str, config: CodeConCatConfig) -> ParsedFileData:
    ext = os.path.splitext(file_path)[1].lower().lstrip(".")
    content = read_file_content(file_path)

    if ext == "py":
        return parse_python(file_path, content)
    elif ext == "js":
        return parse_javascript_or_typescript(file_path, content, language="javascript")
    elif ext == "ts":
        return parse_javascript_or_typescript(file_path, content, language="typescript")
    elif ext == "r":
        return parse_r(file_path, content)
    elif ext == "jl":
        return parse_julia(file_path, content)
    else:
        return ParsedFileData(file_path=file_path, language=ext, content=content)


def is_doc_file(file_path: str, doc_exts: List[str]) -> bool:
    ext = os.path.splitext(file_path)[1].lower()
    return ext in doc_exts


def read_file_content(file_path: str) -> str:
    try:
        with open(file_path, "r", encoding="utf-8", errors="replace") as f:
            return f.read()
    except Exception:
        return ""

```

---
## File: ./build/lib/codeconcat/parser/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/parser/language_parsers/julia_parser.py
### Function: parse_julia
```python
import re
from codeconcat.types import ParsedFileData, Declaration

def parse_julia(file_path: str, content: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []

    func_pattern = re.compile(r'^\s*function\s+(\w+)\s*\(')
    struct_pattern = re.compile(r'^\s*(mutable\s+)?struct\s+(\w+)')

    for i, line in enumerate(lines):
        fm = func_pattern.match(line)
        if fm:
            declarations.append(Declaration("function", fm.group(1), i+1, i+1))

        sm = struct_pattern.match(line)
        if sm:
            declarations.append(Declaration("struct", sm.group(2), i+1, i+1))

    return ParsedFileData(file_path=file_path, language="julia", content=content, declarations=declarations)

```

---
## File: ./build/lib/codeconcat/parser/language_parsers/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/parser/language_parsers/js_ts_parser.py
### Function: parse_javascript_or_typescript
```python
import re
from codeconcat.types import ParsedFileData, Declaration

func_pattern = re.compile(r'^\s*(?:export\s+)?function\s+(\w+)\s*\(')
class_pattern = re.compile(r'^\s*(?:export\s+)?class\s+(\w+)\s*[\{\(]?')

def parse_javascript_or_typescript(file_path: str, content: str, language: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []

    for i, line in enumerate(lines):
        fm = func_pattern.match(line)
        if fm:
            declarations.append(Declaration("function", fm.group(1), i+1, i+1))

        cm = class_pattern.match(line)
        if cm:
            declarations.append(Declaration("class", cm.group(1), i+1, i+1))

    return ParsedFileData(file_path=file_path, language=language, content=content, declarations=declarations)

```

---
## File: ./build/lib/codeconcat/parser/language_parsers/python_parser.py
### Function: parse_python
```python
import re
from codeconcat.types import ParsedFileData, Declaration

def parse_python(file_path: str, content: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []

    func_pattern = re.compile(r'^\s*def\s+(\w+)\s*\(')
    class_pattern = re.compile(r'^\s*class\s+(\w+)\s*[\(:]?')

    for i, line in enumerate(lines):
        fmatch = func_pattern.match(line)
        if fmatch:
            declarations.append(Declaration("function", fmatch.group(1), i+1, i+1))

        cmatch = class_pattern.match(line)
        if cmatch:
            declarations.append(Declaration("class", cmatch.group(1), i+1, i+1))

    return ParsedFileData(file_path=file_path, language="python", content=content, declarations=declarations)

```

---
## File: ./build/lib/codeconcat/parser/language_parsers/r_parser.py
### Function: parse_r
```python
import re
from codeconcat.types import ParsedFileData, Declaration

def parse_r(file_path: str, content: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []
    func_pattern = re.compile(r'^\s*(\w+)\s*<-\s*function\s*\(.*\)\s*\{?')

    for i, line in enumerate(lines):
        match = func_pattern.match(line)
        if match:
            declarations.append(Declaration("function", match.group(1), i+1, i+1))

    return ParsedFileData(file_path=file_path, language="r", content=content, declarations=declarations)

```

---
## File: ./build/lib/codeconcat/writer/markdown_writer.py
### Function: write_markdown
```python
from typing import List
from codeconcat.types import AnnotatedFileData, ParsedDocData, CodeConCatConfig

def write_markdown(
    annotated_files: List[AnnotatedFileData],
    docs: List[ParsedDocData],
    config: CodeConCatConfig
) -> None:
    with open(config.output, "w", encoding="utf-8") as f:
        f.write("# CodeConCat Output\n\n")

        for ann in annotated_files:
            f.write(ann.annotated_content)
            f.write("\n---\n")

        if config.docs and config.merge_docs and docs:
            f.write("\n## Documentation\n\n")
            for doc in docs:
                f.write(f"### Doc File: {doc.file_path}\n")
                f.write(f"```\n{doc.content}\n```\n\n")
                f.write("---\n")

    print(f"[CodeConCat] Markdown output written to: {config.output}")

```

---
## File: ./build/lib/codeconcat/writer/__init__.py
```python

```

---
## File: ./build/lib/codeconcat/writer/json_writer.py
### Function: write_json
```python
import json
from typing import List
from codeconcat.types import AnnotatedFileData, ParsedDocData, CodeConCatConfig

def write_json(
    annotated_files: List[AnnotatedFileData],
    docs: List[ParsedDocData],
    config: CodeConCatConfig
) -> None:
    data = {
        "code": [],
        "docs": []
    }

    for ann in annotated_files:
        data["code"].append({
            "file_path": ann.file_path,
            "language": ann.language,
            "annotated_content": ann.annotated_content
        })

    if config.docs:
        for doc in docs:
            data["docs"].append({
                "file_path": doc.file_path,
                "doc_type": doc.doc_type,
                "content": doc.content
            })

    with open(config.output, "w", encoding="utf-8") as f:
        json.dump(data, f, indent=2)

    print(f"[CodeConCat] JSON output written to: {config.output}")

```

---
## File: ./codeconcat.egg-info/PKG-INFO
```
Metadata-Version: 2.1
Name: codeconcat
Version: 0.2.0
Summary: An LLM-friendly code aggregator and doc extractor
Author: Your Name
Author-email: you@example.com
Requires-Python: >=3.8
License-File: LICENSE
Requires-Dist: pyyaml>=5.0
Requires-Dist: pyperclip>=1.8.0

```

---
## File: ./codeconcat/version.py
```python
__version__ = "0.2.0"

```

---
## File: ./codeconcat/pyproject.toml
```toml
[build-system]
requires = ["setuptools", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "codeconcat"
version = "1.0.0"  # Alternatively keep version in codeconcat/version.py
description = "An LLM-friendly code aggregator and doc extractor"
authors = [
  { name = "Your Name", email = "you@example.com" }
]
license = "MIT"
readme = "README.md"
requires-python = ">=3.8"
dependencies = [
  "pyyaml >= 5.0",
]

[project.scripts]
codeconcat = "codeconcat.main:cli_entry_point"

```

---
## File: ./codeconcat/__init__.py
```python

```

---
## File: ./codeconcat/types.py
### Class: Declaration
### Class: ParsedFileData
### Class: AnnotatedFileData
### Class: ParsedDocData
### Class: CodeConCatConfig
```python
"""
types.py

Holds data classes and typed structures used throughout CodeConCat.
"""

from dataclasses import dataclass, field
from typing import List, Dict, Optional


@dataclass
class Declaration:
    """
    Represents a top-level construct in a code file, e.g. a function or class.
    """
    kind: str
    name: str
    start_line: int
    end_line: int


@dataclass
class ParsedFileData:
    """
    Parsed output of a single code file.
    """
    file_path: str
    language: str
    content: str
    declarations: List[Declaration] = field(default_factory=list)


@dataclass
class AnnotatedFileData:
    """
    A file's annotated content, ready to be written (Markdown/JSON).
    """
    file_path: str
    language: str
    annotated_content: str


@dataclass
class ParsedDocData:
    """
    Represents a doc file, storing raw text + file path + doc type (md, rst, etc.).
    """
    file_path: str
    doc_type: str
    content: str


@dataclass
class CodeConCatConfig:
    """
    Global configuration object. Merged from CLI args + .codeconcat.yml.

    Fields:
      - target_path: local directory or placeholder for GitHub
      - github_url: optional GitHub repository URL
      - github_token: personal access token for private repos
      - include_languages / exclude_languages
      - exclude_paths: patterns for ignoring
      - docs: whether to parse docs
      - merge_docs: whether to merge doc content into the same output
      - doc_extensions: list of recognized doc file extensions
      - custom_extension_map: user-specified extension→language
      - output: final file name
      - format: 'markdown' or 'json'
      - max_workers: concurrency
    """

    # Basic path or GitHub info
    target_path: str = "."
    github_url: Optional[str] = None
    github_token: Optional[str] = None  # for private GitHub repos

    # Language filtering
    include_languages: List[str] = field(default_factory=list)
    exclude_languages: List[str] = field(default_factory=list)

    # Exclude patterns
    exclude_paths: List[str] = field(default_factory=list)

    # Doc extraction toggles
    docs: bool = False
    merge_docs: bool = False
    doc_extensions: List[str] = field(default_factory=lambda: [".md", ".rst", ".txt", ".rmd"])

    # Custom extension→language
    custom_extension_map: Dict[str, str] = field(default_factory=dict)

    # Output
    output: str = "code_concat_output.md"
    format: str = "markdown"  # or "json"
    max_workers: int = 4
    include_tree: bool = True
    copy_output: bool = True

```

---
## File: ./codeconcat/main.py
### Function: cli_entry_point
### Function: generate_folder_tree
### Function: run_codeconcat
### Function: main
```python
import argparse
import sys
from typing import List
import os

from codeconcat.config.config_loader import load_config
from codeconcat.collector.local_collector import collect_local_files
from codeconcat.collector.github_collector import collect_github_files
from codeconcat.parser.file_parser import parse_code_files
from codeconcat.parser.doc_extractor import extract_docs
from codeconcat.transformer.annotator import annotate
from codeconcat.writer.markdown_writer import write_markdown
from codeconcat.writer.json_writer import write_json

from codeconcat.types import CodeConCatConfig, AnnotatedFileData, ParsedDocData


def cli_entry_point():
    parser = argparse.ArgumentParser(
        prog="codeconcat",
        description="CodeConCat - An LLM-friendly code aggregator and doc extractor."
    )

    parser.add_argument("target_path", nargs="?", default=".")
    parser.add_argument("--github", help="GitHub URL", default=None)
    parser.add_argument("--github-token", help="GitHub personal access token", default=None)

    parser.add_argument("--docs", action="store_true", help="Enable doc extraction")
    parser.add_argument("--merge-docs", action="store_true", help="Merge doc content with code output")

    parser.add_argument("--output", default="code_concat_output.md", help="Output file name")
    parser.add_argument("--format", choices=["markdown", "json"], default="markdown", help="Output format")

    parser.add_argument("--include-languages", nargs="*", default=[], help="Only include these languages")
    parser.add_argument("--exclude-languages", nargs="*", default=[], help="Exclude these languages")
    parser.add_argument("--exclude", nargs="*", default=[], help="Paths/patterns to exclude")

    parser.add_argument("--max-workers", type=int, default=4, help="Number of worker threads")

    parser.add_argument("--no-tree", action="store_true", help="Disable folder tree generation (enabled by default)")
    parser.add_argument("--no-copy", action="store_true", help="Disable copying output to clipboard (enabled by default)")

    args = parser.parse_args()

    cli_args = {
        "target_path": args.target_path,
        "github_url": args.github,
        "github_token": args.github_token,
        "docs": args.docs,
        "merge_docs": args.merge_docs,
        "output": args.output,
        "format": args.format,
        "include_languages": args.include_languages,
        "exclude_languages": args.exclude_languages,
        "exclude_paths": args.exclude,
        "max_workers": args.max_workers,
        "include_tree": not args.no_tree,
        "copy_output": not args.no_copy
    }

    config = load_config(cli_args)
    run_codeconcat(config)


def generate_folder_tree(root_path: str) -> str:
    """
    Walk the directory tree starting at root_path and return a string that represents the folder structure.
    """
    lines = []
    for root, dirs, files in os.walk(root_path):
        level = root.replace(root_path, "").count(os.sep)
        indent = "    " * level
        folder_name = os.path.basename(root) or root_path
        lines.append(f"{indent}{folder_name}/")
        sub_indent = "    " * (level + 1)
        for f in files:
            lines.append(f"{sub_indent}{f}")
    return "\n".join(lines)


def run_codeconcat(config: CodeConCatConfig) -> None:
    if config.github_url:
        try:
            file_paths = collect_github_files(config.github_url, config)
        except NotImplementedError as e:
            print(e)
            sys.exit(1)
    else:
        file_paths = collect_local_files(config.target_path, config)

    if not file_paths:
        print("[CodeConCat] No files found. Check your config or directory.")
        return

    docs: List[ParsedDocData] = []
    if config.docs:
        docs = extract_docs(file_paths, config)

    parsed_files = parse_code_files(file_paths, config)

    annotated_files: List[AnnotatedFileData] = []
    for pf in parsed_files:
        annotated_files.append(annotate(pf, config))

    folder_tree_str = ""
    if config.include_tree:
        folder_tree_str = generate_folder_tree(config.target_path)

    if config.format == "json":
        final_output = write_json(annotated_files, docs, config, folder_tree_str)
    else:
        final_output = write_markdown(annotated_files, docs, config, folder_tree_str)

    if config.copy_output and final_output:
        try:
            import pyperclip
            pyperclip.copy(final_output)
            print("[CodeConCat] Output copied to clipboard.")
        except ImportError:
            print("[CodeConCat] pyperclip not installed. Unable to copy to clipboard.")


def main():
    cli_entry_point()


if __name__ == "__main__":
    main()

```

---
## File: ./codeconcat/config/config_loader.py
### Function: load_config
### Function: read_config_file
### Function: apply_dict_to_config
```python
import os
import yaml
from typing import Dict, Any
from codeconcat.types import CodeConCatConfig


def load_config(cli_args: Dict[str, Any]) -> CodeConCatConfig:
    config = CodeConCatConfig()
    file_data = read_config_file(".codeconcat.yml")

    if file_data:
        apply_dict_to_config(file_data, config)

    apply_dict_to_config(cli_args, config)

    return config


def read_config_file(path: str) -> Dict[str, Any]:
    if not os.path.exists(path):
        return {}
    try:
        with open(path, "r", encoding="utf-8") as f:
            data = yaml.safe_load(f)
            if isinstance(data, dict):
                return data
    except Exception:
        pass
    return {}


def apply_dict_to_config(data: Dict[str, Any], config: CodeConCatConfig) -> None:
    for key, value in data.items():
        if hasattr(config, key):
            if key == "custom_extension_map" and isinstance(value, dict):
                config.custom_extension_map.update(value)
            else:
                setattr(config, key, value)

```

---
## File: ./codeconcat/config/__init__.py
```python

```

---
## File: ./codeconcat/config/__pycache__/config_loader.cpython-311.pyc
```pyc
�

    ��og  �                   �   � d dl Z d dlZd dlmZmZ d dlmZ deeef         defd�Zdedeeef         fd�Z	d	eeef         d
eddfd�Z
dS )�    N)�Dict�Any)�CodeConCatConfig�cli_args�returnc                 �   � t          �   �         }t          d�  �        }|rt          ||�  �         t          | |�  �         |S )Nz.codeconcat.yml)r   �read_config_file�apply_dict_to_config)r   �config�	file_datas      �V/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/config/config_loader.py�load_configr      sH   � �
�
�
�F� �!2�3�3�I�� 0��Y��/�/�/���6�*�*�*��M�    �pathc                 �0  � t           j        �                    | �  �        si S 	 t          | dd��  �        5 }t	          j        |�  �        }t
          |t          �  �        r|cd d d �  �         S 	 d d d �  �         n# 1 swxY w Y   n# t          $ r Y nw xY wi S )N�rzutf-8)�encoding)	�osr   �exists�open�yaml�	safe_load�
isinstance�dict�	Exception)r   �f�datas      r
   r	   r	      s  � �
�7�>�>�$��� ��	�
�
�$��g�
.�
.�
.� 	�!��>�!�$�$�D��$��%�%� 
��	� 	� 	� 	� 	� 	� 	� 	�
�	� 	� 	� 	� 	� 	� 	� 	� 	� 	� 	���� 	� 	� 	� 	��� � 
� 
� 
���
����
�Is:   �B �+A:� B �.B �:A>�>B �A>�B �
B�Br   r   c                 ��   � | �                     �   �         D ]\\  }}t          ||�  �        rG|dk    r0t          |t          �  �        r|j        �                    |�  �         �Kt
          |||�  �         �]d S )N�custom_extension_map)�items�hasattrr   r   r   �update�setattr)r   r   �key�values       r
   r
   r
       s�   � ��j�j�l�l� ,� ,�
��U��6�3��� 	,��,�,�,��E�4�1H�1H�,��+�2�2�5�9�9�9�9����U�+�+�+��,� ,r   )r   r   �typingr   r   �codeconcat.typesr   �strr   r	   r
   � r   r
   �<module>r*      s�   �� 	�	�	�	� ���� � � � � � � � � -� -� -� -� -� -�	�$�s�C�x�.� 	�-=� 	� 	� 	� 	�
�3� 
�4��S��>� 
� 
� 
� 
�,�t�C��H�~� ,�7G� ,�D� ,� ,� ,� ,� ,� ,r   
```

---
## File: ./codeconcat/config/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �Q/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/config/__init__.py�<module>r      s   �� � r   
```

---
## File: ./codeconcat/transformer/__init__.py
```python

```

---
## File: ./codeconcat/transformer/annotator.py
### Function: annotate
```python
from codeconcat.types import ParsedFileData, AnnotatedFileData, CodeConCatConfig

def annotate(parsed_data: ParsedFileData, config: CodeConCatConfig) -> AnnotatedFileData:
    pieces = []
    pieces.append(f"## File: {parsed_data.file_path}\n")

    for decl in parsed_data.declarations:
        if decl.kind == "function":
            pieces.append(f"### Function: {decl.name}\n")
        elif decl.kind == "class":
            pieces.append(f"### Class: {decl.name}\n")
        elif decl.kind == "struct":
            pieces.append(f"### Struct: {decl.name}\n")

    pieces.append(f"```{parsed_data.language}\n{parsed_data.content}\n```\n")

    return AnnotatedFileData(
        file_path=parsed_data.file_path,
        language=parsed_data.language,
        annotated_content="".join(pieces)
    )

```

---
## File: ./codeconcat/transformer/__pycache__/annotator.cpython-311.pyc
```pyc
�

    i�og"  �                   �.   � d dl mZmZmZ dededefd�ZdS )�    )�ParsedFileData�AnnotatedFileData�CodeConCatConfig�parsed_data�config�returnc                 ��  � g }|�                     d| j        � d��  �         | j        D ]}|j        dk    r|�                     d|j        � d��  �         �,|j        dk    r|�                     d|j        � d��  �         �V|j        dk    r|�                     d|j        � d��  �         ��|�                     d	| j        � d| j        � d
��  �         t          | j        | j        d�                    |�  �        ��  �        S )
Nz	## File: �
�functionz### Function: �classz### Class: �structz### Struct: z```z
```
� )�	file_path�language�annotated_content)	�appendr   �declarations�kind�namer   �contentr   �join)r   r   �pieces�decls       �W/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/transformer/annotator.py�annotater      s$  � �
�F�
�M�M�7�k�3�7�7�7�8�8�8��(� 8� 8���9�
�"�"��M�M�8�4�9�8�8�8�9�9�9�9�
�Y�'�
!�
!��M�M�5��	�5�5�5�6�6�6�6�
�Y�(�
"�
"��M�M�6���6�6�6�7�7�7��
�M�M�L��,�L�L��0C�L�L�L�M�M�M���'��%��'�'�&�/�/�� � � �    N)�codeconcat.typesr   r   r   r   � r   r   �<module>r      sX   �� P� P� P� P� P� P� P� P� P� P��.� �2B� �GX� � � � � � r   
```

---
## File: ./codeconcat/transformer/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �V/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/transformer/__init__.py�<module>r      s   �� � r   
```

---
## File: ./codeconcat/tests/test_end_to_end.py
### Function: sample_dir
### Function: test_run_codeconcat
```python
import pytest
from codeconcat.types import CodeConCatConfig
from codeconcat.main import run_codeconcat
import os

@pytest.fixture
def sample_dir(tmp_path):
    py_file = tmp_path / "script.py"
    py_file.write_text("def foo(): pass\n")
    doc_file = tmp_path / "README.md"
    doc_file.write_text("# This is documentation.")
    return tmp_path

def test_run_codeconcat(sample_dir):
    config = CodeConCatConfig(
        target_path=str(sample_dir),
        docs=True,
        merge_docs=True,
        format="markdown",
        output=str(sample_dir / "output.md")
    )
    run_codeconcat(config)

    output_path = sample_dir / "output.md"
    assert output_path.exists()
    content = output_path.read_text()
    assert "def foo" in content
    assert "# This is documentation." in content

```

---
## File: ./codeconcat/collector/github_collector.py
### Function: collect_github_files
### Function: build_clone_url
```python
import os
import tempfile
import shutil
import subprocess
from typing import List
from codeconcat.types import CodeConCatConfig
from codeconcat.collector.local_collector import collect_local_files


def collect_github_files(github_url: str, config: CodeConCatConfig) -> List[str]:
    temp_dir = tempfile.mkdtemp(prefix="codeconcat_github_")
    try:
        clone_url = build_clone_url(github_url, config.github_token)
        print(f"[CodeConCat] Cloning from {clone_url} into {temp_dir}")
        subprocess.run(["git", "clone", "--depth=1", clone_url, temp_dir], check=True)

        file_paths = collect_local_files(temp_dir, config)
        return file_paths

    except subprocess.CalledProcessError as e:
        raise RuntimeError(f"Failed to clone GitHub repo: {e}") from e
    finally:
        # Optionally remove the temp directory
        # shutil.rmtree(temp_dir, ignore_errors=True)
        pass


def build_clone_url(github_url: str, token: str) -> str:
    if token and "https://" in github_url:
        parts = github_url.split("https://", 1)
        return f"https://{token}@{parts[1]}"
    return github_url

```

---
## File: ./codeconcat/collector/__init__.py
```python

```

---
## File: ./codeconcat/collector/local_collector.py
### Function: collect_local_files
### Function: should_skip_dir
### Function: should_include_file
### Function: matches_pattern
### Function: ext_map
```python
import os
import fnmatch
from typing import List
from concurrent.futures import ThreadPoolExecutor

from codeconcat.types import CodeConCatConfig

DEFAULT_EXCLUDES = [
    ".git",
    "*.git",
    ".DS_Store",
    "*.DS_Store"
]


def collect_local_files(root_path: str, config: CodeConCatConfig) -> List[str]:
    all_files = []
    for dirpath, dirnames, filenames in os.walk(root_path):
        if should_skip_dir(dirpath, config.exclude_paths):
            dirnames[:] = []
            continue

        for fname in filenames:
            full_path = os.path.join(dirpath, fname)
            all_files.append(full_path)

    with ThreadPoolExecutor(max_workers=config.max_workers) as executor:
        results = list(executor.map(
            lambda p: p if should_include_file(p, config) else None,
            all_files
        ))
    final_files = [r for r in results if r is not None]
    return final_files


def should_skip_dir(dirpath: str, user_excludes: List[str]) -> bool:
    combined = user_excludes + DEFAULT_EXCLUDES
    return any(matches_pattern(dirpath, pattern) for pattern in combined)


def should_include_file(path_str: str, config: CodeConCatConfig) -> bool:
    combined_excludes = config.exclude_paths + DEFAULT_EXCLUDES
    if any(matches_pattern(path_str, pat) for pat in combined_excludes):
        return False

    ext = os.path.splitext(path_str)[1].lower().lstrip(".")
    language_label = ext_map(ext, config)

    if config.include_languages and language_label not in config.include_languages:
        return False
    if language_label in config.exclude_languages:
        return False

    return True


def matches_pattern(path_str: str, pattern: str) -> bool:
    return fnmatch.fnmatch(path_str, pattern) or pattern in path_str


def ext_map(ext: str, config: CodeConCatConfig) -> str:
    if ext in config.custom_extension_map:
        return config.custom_extension_map[ext]

    builtin = {
        "py": "python",
        "js": "javascript",
        "ts": "typescript",
        "r": "r",
        "jl": "julia",
        "cpp": "cpp",
        "hpp": "cpp",
        "cxx": "cpp",
        "c": "c",
        "h": "c",
        "md": "doc",
        "rst": "doc",
        "txt": "doc",
        "rmd": "doc",
    }
    return builtin.get(ext, ext)

```

---
## File: ./codeconcat/collector/__pycache__/local_collector.cpython-311.pyc
```pyc
�

    ɩog�  �                   �   � d dl Z d dlZd dlmZ d dlmZ d dlmZ g d�Zde	dedee	         fd	�Z
d
e	dee	         defd�Zd
e	dedefd�Z
d
e	de	defd�Zde	dede	fd�ZdS )�    N)�List)�ThreadPoolExecutor)�CodeConCatConfig)z.gitz*.gitz	.DS_Storez
*.DS_Store�	root_path�config�returnc                 �  �� g }t          j        | �  �        D ]]\  }}}t          |�j        �  �        rg |d d �<   �#|D ]7}t           j        �                    ||�  �        }|�                    |�  �         �8�^t          �j        ��  �        5 }t          |�
                    �fd�|�  �        �  �        }	d d d �  �         n# 1 swxY w Y   d� |	D �   �         }
|
S )N)�max_workersc                 �,   �� t          | ��  �        r| nd S �N)�should_include_file)�pr   s    ��[/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/collector/local_collector.py�<lambda>z%collect_local_files.<locals>.<lambda>   s   �� �.�q�&�9�9�C�a�a�t� �    c                 �   � g | ]}|�|��S r   � )�.0�rs     r   �
<listcomp>z'collect_local_files.<locals>.<listcomp>    s   � �7�7�7����1���r   )�os�walk�should_skip_dir�
exclude_paths�path�join�appendr   r
   �list�map)r   r   �	all_files�dirpath�dirnames�	filenames�fname�	full_path�executor�results�final_filess    `         r   �collect_local_filesr)      s>  �� ��I�(*��	�(:�(:� (� (�$���9��7�F�$8�9�9� 	��H�Q�Q�Q�K��� 	(� 	(�E�����W�e�4�4�I����Y�'�'�'�'�	(� 
��(:�	;�	;�	;� �x��x�|�|�C�C�C�C��
� 
� � ��� � � � � � � � � � ���� � � � �
 8�7�g�7�7�7�K��s   �'B>�>C�Cr!   �
user_excludesc                 �N   � � |t           z   }t          � fd�|D �   �         �  �        S )Nc              3   �8   �K  � | ]}t          �|�  �        V � �d S r   ��matches_pattern)r   �patternr!   s     �r   �	<genexpr>z"should_skip_dir.<locals>.<genexpr>&   s-   �� � � �I�I�W��w��0�0�I�I�I�I�I�Ir   )�DEFAULT_EXCLUDES�any)r!   r*   �combineds   `  r   r   r   $   s1   �� ��/�/�H��I�I�I�I��I�I�I�I�I�Ir   �path_strc                 �N  � � |j         t          z   }t          � fd�|D �   �         �  �        rdS t          j        �                    � �  �        d         �                    �   �         �                    d�  �        }t          ||�  �        }|j	        r||j	        vrdS ||j
        v rdS dS )Nc              3   �8   �K  � | ]}t          �|�  �        V � �d S r   r-   )r   �patr4   s     �r   r0   z&should_include_file.<locals>.<genexpr>+   s-   �� � � �
G�
G�c�?�8�S�)�)�
G�
G�
G�
G�
G�
Gr   F�   �.T)r   r1   r2   r   r   �splitext�lower�lstrip�ext_map�include_languages�exclude_languages)r4   r   �combined_excludes�ext�language_labels   `    r   r
   r
   )   s�   �� ��,�/?�?��
�
G�
G�
G�
G�5F�
G�
G�
G�G�G� ��u�
�'�
�
�8�
$�
$�Q�
'�
-�
-�
/�
/�
6�
6�s�
;�
;�C��S�&�)�)�N�
�� �N�&�:R�$R�$R��u���1�1�1��u��4r   r/   c                 �4   � t          j         | |�  �        p|| v S r   )�fnmatch)r4   r/   s     r   r.   r.   9   s   � ��?�8�W�-�-�D��H�1D�Dr   rA   c                 �|   � | |j         v r
|j         |          S ddddddddddddddd	�}|�                    | | �  �        S )
N�python�
javascript�
typescriptr   �julia�cpp�c�doc)�py�js�tsr   �jlrJ   �hpp�cxxrK   �h�md�rst�txt�rmd)�custom_extension_map�get)rA   r   �builtins      r   r=   r=   =   sl   � �
�f�)�)�)��*�3�/�/� ���
�����
�
������ �G�  �;�;�s�C� � � r   )r   rD   �typingr   �concurrent.futuresr   �codeconcat.typesr   r1   �strr)   �boolr   r
   r.   r=   r   r   r   �<module>r`      sO  �� 	�	�	�	� ���� � � � � � � 1� 1� 1� 1� 1� 1� -� -� -� -� -� -�� � � ��3� �0@� �T�#�Y� � � � �(J�S� J��c�� J�t� J� J� J� J�

�#� 
�/?� 
�D� 
� 
� 
� 
� E�c� E�C� E�D� E� E� E� E�!�� !�.� !�3� !� !� !� !� !� !r   
```

---
## File: ./codeconcat/collector/__pycache__/github_collector.cpython-311.pyc
```pyc
�

    ةogh  �                   �~   � d dl Z d dlZd dlZd dlZd dlmZ d dlmZ d dlm	Z	 de
dedee
         fd�Zde
d	e
de
fd
�ZdS )�    N)�List)�CodeConCatConfig)�collect_local_files�
github_url�config�returnc                 �:  � t          j        d��  �        }	 t          | |j        �  �        }t	          d|� d|� ��  �         t          j        ddd||gd�	�  �         t          ||�  �        }|S # t
          j        $ r}t          d
|� ��  �        |�d }~ww xY w# w xY w)N�codeconcat_github_)�prefixz[CodeConCat] Cloning from z into �git�clonez	--depth=1T)�checkzFailed to clone GitHub repo: )
�tempfile�mkdtemp�build_clone_url�github_token�print�
subprocess�runr   �CalledProcessError�RuntimeError)r   r   �temp_dir�	clone_url�
file_paths�es         �\/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/collector/github_collector.py�collect_github_filesr   
   s�   � ���';�<�<�<�H�

�#�J��0C�D�D�	�
�F�9�F�F�H�F�F�G�G�G����w��Y��I�QU�V�V�V�V�(��6�:�:�
�� 	
�� �(� G� G� G��>�1�>�>�?�?�Q�F�����G�����
 	
���s$   �AA. �.B�=B�B�B �B�tokenc                 �Z   � |r(d| v r$| �                     dd�  �        }d|� d|d         � �S | S )Nzhttps://�   �@)�split)r   r   �partss      r   r   r      sI   � �� -��z�)�)�� � ��Q�/�/��,�%�,�,�%��(�,�,�,���    )
�osr   �shutilr   �typingr   �codeconcat.typesr   �$codeconcat.collector.local_collectorr   �strr   r   � r$   r   �<module>r,      s�   �� 	�	�	�	� ���� 
�
�
�
� � � � � � � � � � � -� -� -� -� -� -� D� D� D� D� D� D�
�S� 
�2B� 
�t�C�y� 
� 
� 
� 
�$�� �C� �C� � � � � � r$   
```

---
## File: ./codeconcat/collector/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �T/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/collector/__init__.py�<module>r      s   �� � r   
```

---
## File: ./codeconcat/__pycache__/main.cpython-311.pyc
```pyc
�

    _ vg{  �                   ��   � d dl Z d dlZd dlmZ d dlZd dlmZ d dlmZ d dl	m
Z
 d dlmZ d dl
mZ d dlmZ d d	lmZ d d
lmZ d dlmZmZmZ d� Zd
edefd�Zdeddfd�Zd� Zedk    r e�   �          dS dS )�    N)�List)�load_config)�collect_local_files)�collect_github_files)�parse_code_files)�extract_docs)�annotate)�write_markdown)�
write_json)�CodeConCatConfig�AnnotatedFileData�
ParsedDocDatac                  ��  � t          j        dd��  �        } | �                    ddd��  �         | �                    dd	d �
�  �         | �                    ddd �
�  �         | �                    d
dd��  �         | �                    ddd��  �         | �                    ddd��  �         | �                    dddgdd��  �         | �                    ddg d��  �         | �                    d dg d!��  �         | �                    d"dg d#��  �         | �                    d$t          d%d&�'�  �         | �                    d(dd)��  �         | �                    d*dd+��  �         | �                    �   �         }|j        |j        |j        |j        |j	        |j
        |j        |j        |j
        |j        |j        |j         |j         d,�
}t%          |�  �        }t'          |�  �         d S )-N�
codeconcatz?CodeConCat - An LLM-friendly code aggregator and doc extractor.)�prog�description�target_path�?�.)�nargs�defaultz--githubz
GitHub URL)�helpr   z--github-tokenzGitHub personal access tokenz--docs�
store_truezEnable doc extraction)�actionr   z--merge-docsz"Merge doc content with code outputz--outputzcode_concat_output.mdzOutput file name)r   r   z--format�markdown�jsonz
Output format)�choicesr   r   z--include-languages�*zOnly include these languages)r   r   r   z--exclude-languageszExclude these languagesz	--excludezPaths/patterns to excludez
--max-workers�   zNumber of worker threads)�typer   r   z	--no-treez3Disable folder tree generation (enabled by default)z	--no-copyz8Disable copying output to clipboard (enabled by default))
r   �
github_url�github_token�docs�
merge_docs�output�format�include_languages�exclude_languages�
exclude_paths�max_workers�include_tree�copy_output)�argparse�ArgumentParser�add_argument�int�
parse_argsr   �githubr"   r#   r$   r%   r&   r'   r(   �excluder*   �no_tree�no_copyr   �run_codeconcat)�parser�args�cli_args�configs       �F/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/main.py�cli_entry_pointr<      s-  � �
�
$�
�U�� � �F�
 ���
�S�#��>�>�>�
���
��t��D�D�D�
���(�/M�W[��\�\�\�
�����<S��T�T�T�
����|�Bf��g�g�g�
���
�,C�J\��]�]�]�
���
�Z��,@�*�[j��k�k�k�
���-�S�"�Ki��j�j�j�
���-�S�"�Kd��e�e�e�
����3��A\��]�]�]�
����c�1�C]��^�^�^�
����L�?t��u�u�u�
����L�?y��z�z�z������D� �'��k��)��	��o��+��+�!�3�!�3����'� �L�(��<�'�� �H�  ��
"�
"�F��6������    �	root_path�returnc                 �  � g }t          j        | �  �        D ]�\  }}}|�                    | d�  �        �                    t           j        �  �        }d|z  }t           j        �                    |�  �        p| }|�                    |� |� d��  �         d|dz   z  }|D ]}	|�                    |� |	� ��  �         ���d�                    |�  �        S )zq
    Walk the directory tree starting at root_path and return a string that represents the folder structure.
    � z    �/�   �
)	�os�walk�replace�count�sep�path�basename�append�join)
r>   �lines�root�dirs�files�level�indent�folder_name�
sub_indent�fs
             r;   �generate_folder_treerW   A   s�   � � 
�E��W�Y�/�/� -� -���d�E����Y��+�+�1�1�"�&�9�9���%����g�&�&�t�,�,�9�	��
����.��.�.�.�/�/�/��u�q�y�)�
�� 	-� 	-�A��L�L�J�+��+�+�,�,�,�,�	-��9�9�U���r=   r:   c                 ��  � | j         rQ	 t          | j         | �  �        }nO# t          $ r-}t          |�  �         t	          j        d�  �         Y d }~nd }~ww xY wt
          | j        | �  �        }|st          d�  �         d S g }| j        rt          || �  �        }t          || �  �        }g }|D ]%}|�                    t          || �  �        �  �         �&d}| j
        rt          | j        �  �        }| j        dk    rt!          ||| |�  �        }nt#          ||| |�  �        }| j        rM|rM	 dd l}	|	�                    |�  �         t          d�  �         d S # t*          $ r t          d�  �         Y d S w xY wd S d S )NrC   z<[CodeConCat] No files found. Check your config or directory.rA   r   r   z([CodeConCat] Output copied to clipboard.zB[CodeConCat] pyperclip not installed. Unable to copy to clipboard.)r!   r   �NotImplementedError�print�sys�exitr   r   r#   r   r   rL   r	   r+   rW   r&   r   r
   r,   �	pyperclip�copy�ImportError)
r:   �
file_paths�er#   �parsed_files�annotated_files�pf�folder_tree_str�final_outputr]   s
             r;   r6   r6   Q   s�  � �
�� E�	�-�f�.?��H�H�J�J��"� 	� 	� 	��!�H�H�H��H�Q�K�K�K�K�K�K�K�K�����	���� )��);�V�D�D�
�� �
�L�M�M�M��� "�D�
�{� 0��J��/�/��#�J��7�7�L�/1�O�� 5� 5�����x��F�3�3�4�4�4�4��O�
�� C�.�v�/A�B�B��
�}����!�/�4���Q�Q���%�o�t�V�_�U�U��
�� X�l� X�	X������N�N�<�(�(�(��<�=�=�=�=�=��� 	X� 	X� 	X��V�W�W�W�W�W�W�	X����X� X� X� Xs&   � �
A�#A�A�+(E �E2�1E2c                  �"   � t          �   �          d S )N)r<   � r=   r;   �mainri   {   s   � ������r=   �__main__)r-   r[   �typingr   rE   �codeconcat.config.config_loaderr   �$codeconcat.collector.local_collectorr   �%codeconcat.collector.github_collectorr   �codeconcat.parser.file_parserr   �codeconcat.parser.doc_extractorr   � codeconcat.transformer.annotatorr	   �!codeconcat.writer.markdown_writerr
   �codeconcat.writer.json_writerr   �codeconcat.typesr   r
   r   r<   �strrW   r6   ri   �__name__rh   r=   r;   �<module>rw      so  �� ���� 
�
�
�
� � � � � � � 	�	�	�	� 7� 7� 7� 7� 7� 7� D� D� D� D� D� D� F� F� F� F� F� F� :� :� :� :� :� :� 8� 8� 8� 8� 8� 8� 5� 5� 5� 5� 5� 5� <� <� <� <� <� <� 4� 4� 4� 4� 4� 4� O� O� O� O� O� O� O� O� O� O�,� ,� ,�^
�C� 
�C� 
� 
� 
� 
� 'X�+� 'X�� 'X� 'X� 'X� 'X�T� � � �z����D�F�F�F�F�F� �r=   
```

---
## File: ./codeconcat/__pycache__/types.cpython-311.pyc
```pyc
�

    V vg�	  �                   �   � d Z ddlmZmZ ddlmZmZmZ e G d� d�  �        �   �         Ze G d� d�  �        �   �         Z	e G d� d	�  �        �   �         Z
e G d
� d�  �        �   �         Ze G d� d
�  �        �   �         ZdS )zO
types.py

Holds data classes and typed structures used throughout CodeConCat.
�    )�	dataclass�field)�List�Dict�Optionalc                   �<   � e Zd ZU dZeed<   eed<   eed<   eed<   dS )�DeclarationzT
    Represents a top-level construct in a code file, e.g. a function or class.
    �kind�name�
start_line�end_lineN)�__name__�
__module__�__qualname__�__doc__�str�__annotations__�int� �    �G/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/types.pyr	   r	      s@   � � � � � � �� � �I�I�I�

�I�I�I��O�O�O��M�M�M�M�Mr   r	   c                   �`   � e Zd ZU dZeed<   eed<   eed<    ee��  �        Ze	e
         ed<   dS )�ParsedFileDataz.
    Parsed output of a single code file.
    �	file_path�language�content��default_factory�declarationsN)r   r   r   r   r   r   r   �listr   r   r	   r   r   r   r   r      s[   � � � � � � �� � �N�N�N��M�M�M�
�L�L�L�&+�e�D�&A�&A�&A�L�$�{�#�A�A�A�A�Ar   r   c                   �2   � e Zd ZU dZeed<   eed<   eed<   dS )�AnnotatedFileDatazJ
    A file's annotated content, ready to be written (Markdown/JSON).
    r   r   �annotated_contentN�r   r   r   r   r   r   r   r   r   r"   r"   !   s<   � � � � � � �� � �N�N�N��M�M�M������r   r"   c                   �2   � e Zd ZU dZeed<   eed<   eed<   dS )�
ParsedDocDatazY
    Represents a doc file, storing raw text + file path + doc type (md, rst, etc.).
    r   �doc_typer   Nr$   r   r   r   r&   r&   +   s7   � � � � � � �� � �N�N�N��M�M�M�
�L�L�L�L�Lr   r&   c                   �  � e Zd ZU dZdZeed<   dZee         ed<   dZ	ee         ed<    e
e��  �        Ze
e         ed<    e
e��  �        Ze
e         ed	<    e
e��  �        Ze
e         ed
<   dZeed<   dZeed
<    e
d� ��  �        Ze
e         ed<    e
e��  �        Zeeef         ed<   dZeed<   dZeed<   dZeed<   dZeed<   dZeed<   dS )�CodeConCatConfigu�  
    Global configuration object. Merged from CLI args + .codeconcat.yml.

    Fields:
      - target_path: local directory or placeholder for GitHub
      - github_url: optional GitHub repository URL
      - github_token: personal access token for private repos
      - include_languages / exclude_languages
      - exclude_paths: patterns for ignoring
      - docs: whether to parse docs
      - merge_docs: whether to merge doc content into the same output
      - doc_extensions: list of recognized doc file extensions
      - custom_extension_map: user-specified extension→language
      - output: final file name
      - format: 'markdown' or 'json'
      - max_workers: concurrency
    �.�target_pathN�
github_url�github_tokenr   �include_languages�exclude_languages�
exclude_pathsF�docs�
merge_docsc                  �
   � g d�S )N)z.mdz.rstz.txtz.rmdr   r   r   r   �<lambda>zCodeConCatConfig.<lambda>X   s
   � �>]�>]�>]� r   �doc_extensions�custom_extension_mapzcode_concat_output.md�output�markdown�format�   �max_workersT�include_tree�copy_output)r   r   r   r   r+   r   r   r,   r   r-   r   r    r.   r   r/   r0   r1   �boolr2   r5   �dictr6   r   r7   r9   r;   r   r<   r=   r   r   r   r)   r)   5   s�  � � � � � � �� �& �K����� $�J���
�$�$�$�"&�L�(�3�-�&�&�&� $)�5��#>�#>�#>��t�C�y�>�>�>�#(�5��#>�#>�#>��t�C�y�>�>�>�  %�u�T�:�:�:�M�4��9�:�:�:� �D�$�����J����� %��6]�6]� ^� ^� ^�N�D��I�^�^�^� ,1�5��+F�+F�+F��$�s�C�x�.�F�F�F� *�F�C�)�)�)��F�C�����K������L�$�����K������r   r)   N)
r   �dataclassesr   r   �typingr   r   r   r	   r   r"   r&   r)   r   r   r   �<module>rB      s]  ��� � )� (� (� (� (� (� (� (� '� '� '� '� '� '� '� '� '� '� �� � � � � � � ��� �B� B� B� B� B� B� B� ��B� �� � � � � � � ��� �� � � � � � � ��� �,� ,� ,� ,� ,� ,� ,� ��,� ,� ,r   
```

---
## File: ./codeconcat/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �J/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/__init__.py�<module>r      s   �� � r   
```

---
## File: ./codeconcat/parser/doc_extractor.py
### Function: extract_docs
### Function: is_doc_file
### Function: parse_doc_file
### Function: read_doc_content
```python
import os
from typing import List
from concurrent.futures import ThreadPoolExecutor

from codeconcat.types import CodeConCatConfig, ParsedDocData


def extract_docs(file_paths: List[str], config: CodeConCatConfig) -> List[ParsedDocData]:
    doc_paths = [fp for fp in file_paths if is_doc_file(fp, config.doc_extensions)]

    with ThreadPoolExecutor(max_workers=config.max_workers) as executor:
        results = list(executor.map(lambda fp: parse_doc_file(fp), doc_paths))
    return results


def is_doc_file(file_path: str, doc_exts: List[str]) -> bool:
    ext = os.path.splitext(file_path)[1].lower()
    return ext in doc_exts


def parse_doc_file(file_path: str) -> ParsedDocData:
    ext = os.path.splitext(file_path)[1].lower()
    content = read_doc_content(file_path)
    doc_type = ext.lstrip(".")
    return ParsedDocData(file_path=file_path, doc_type=doc_type, content=content)


def read_doc_content(file_path: str) -> str:
    try:
        with open(file_path, "r", encoding="utf-8", errors="replace") as f:
            return f.read()
    except Exception:
        return ""

```

---
## File: ./codeconcat/parser/file_parser.py
### Function: parse_code_files
### Function: parse_single_file
### Function: is_doc_file
### Function: read_file_content
```python
import os
from typing import List
from concurrent.futures import ThreadPoolExecutor

from codeconcat.types import CodeConCatConfig, ParsedFileData
from codeconcat.parser.language_parsers.python_parser import parse_python
from codeconcat.parser.language_parsers.js_ts_parser import parse_javascript_or_typescript
from codeconcat.parser.language_parsers.r_parser import parse_r
from codeconcat.parser.language_parsers.julia_parser import parse_julia


def parse_code_files(file_paths: List[str], config: CodeConCatConfig) -> List[ParsedFileData]:
    code_paths = [fp for fp in file_paths if not is_doc_file(fp, config.doc_extensions)]

    with ThreadPoolExecutor(max_workers=config.max_workers) as executor:
        results = list(executor.map(lambda fp: parse_single_file(fp, config), code_paths))
    return results


def parse_single_file(file_path: str, config: CodeConCatConfig) -> ParsedFileData:
    ext = os.path.splitext(file_path)[1].lower().lstrip(".")
    content = read_file_content(file_path)

    if ext == "py":
        return parse_python(file_path, content)
    elif ext == "js":
        return parse_javascript_or_typescript(file_path, content, language="javascript")
    elif ext == "ts":
        return parse_javascript_or_typescript(file_path, content, language="typescript")
    elif ext == "r":
        return parse_r(file_path, content)
    elif ext == "jl":
        return parse_julia(file_path, content)
    else:
        return ParsedFileData(file_path=file_path, language=ext, content=content)


def is_doc_file(file_path: str, doc_exts: List[str]) -> bool:
    ext = os.path.splitext(file_path)[1].lower()
    return ext in doc_exts


def read_file_content(file_path: str) -> str:
    try:
        with open(file_path, "r", encoding="utf-8", errors="replace") as f:
            return f.read()
    except Exception:
        return ""

```

---
## File: ./codeconcat/parser/__init__.py
```python

```

---
## File: ./codeconcat/parser/__pycache__/file_parser.cpython-311.pyc
```pyc
�

    ��ogH  �                   ��   � d dl Z d dlmZ d dlmZ d dlmZmZ d dlm	Z	 d dl
mZ d dlm
Z
 d dlmZ d	ee         d
edee         fd�Zd
ed
edefd�Zd
edee         defd�Zd
edefd�ZdS )�    N)�List)�ThreadPoolExecutor)�CodeConCatConfig�ParsedFileData)�parse_python)�parse_javascript_or_typescript)�parse_r)�parse_julia�
file_paths�config�returnc                 ��   �� �fd�| D �   �         }t          �j        ��  �        5 }t          |�                    �fd�|�  �        �  �        }d d d �  �         n# 1 swxY w Y   |S )Nc                 �>   �� g | ]}t          |�j        �  �        �|��S � )�is_doc_file�doc_extensions)�.0�fpr   s     ��T/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/file_parser.py�
<listcomp>z$parse_code_files.<locals>.<listcomp>
   s+   �� �X�X�X���R��AV�1W�1W�X�"�X�X�X�    )�max_workersc                 �$   �� t          | ��  �        S )N)�parse_single_file)r   r   s    �r   �<lambda>z"parse_code_files.<locals>.<lambda>   s   �� �/@��V�/L�/L� r   )r   r   �list�map)r   r   �
code_paths�executor�resultss    `   r   �parse_code_filesr!      s�   �� �X�X�X�X�z�X�X�X�J�	��(:�	;�	;�	;� [�x��x�|�|�$L�$L�$L�$L�j�Y�Y�Z�Z��[� [� [� [� [� [� [� [� [� [� [���� [� [� [� [��Ns   �'A�A�A�	file_pathc                 �  � t           j        �                    | �  �        d         �                    �   �         �                    d�  �        }t          | �  �        }|dk    rt
          | |�  �        S |dk    rt          | |d��  �        S |dk    rt          | |d��  �        S |d	k    rt          | |�  �        S |d
k    rt          | |�  �        S t          | ||��  �        S )N�   �.�py�js�
javascript)�language�ts�
typescript�r�jl)r"   r)   �content)�os�path�splitext�lower�lstrip�read_file_contentr   r   r	   r
   r   )r"   r   �extr.   s       r   r   r      s�   � �
�'�
�
�9�
%�
%�a�
(�
.�
.�
0�
0�
7�
7��
<�
<�C��	�*�*�G�
�d�{�{��I�w�/�/�/�	����-�i��<�X�X�X�X�	����-�i��<�X�X�X�X�	�����y�'�*�*�*�	�����9�g�.�.�.��	�C��Q�Q�Q�Qr   �doc_extsc                 �x   � t           j        �                    | �  �        d         �                    �   �         }||v S )Nr$   )r/   r0   r1   r2   )r"   r6   r5   s      r   r   r   &   s2   � �
�'�
�
�9�
%�
%�a�
(�
.�
.�
0�
0�C��(�?�r   c                 �   � 	 t          | ddd��  �        5 }|�                    �   �         cd d d �  �         S # 1 swxY w Y   d S # t          $ r Y dS w xY w)Nr,   zutf-8�replace)�encoding�errors� )�open�read�	Exception)r"   �fs     r   r4   r4   +   s�   � ��
�)�S�7�9�
E�
E�
E� 	���6�6�8�8�	� 	� 	� 	� 	� 	� 	� 	� 	� 	� 	� 	���� 	� 	� 	� 	� 	� 	��� � � ��r�r����s,   �A �6�A �:�A �:�A �
A�A)r/   �typingr   �concurrent.futuresr   �codeconcat.typesr   r   �0codeconcat.parser.language_parsers.python_parserr   �/codeconcat.parser.language_parsers.js_ts_parserr   �+codeconcat.parser.language_parsers.r_parserr	   �/codeconcat.parser.language_parsers.julia_parserr
   �strr!   r   �boolr   r4   r   r   r   �<module>rJ      sO  �� 	�	�	�	� � � � � � � 1� 1� 1� 1� 1� 1� =� =� =� =� =� =� =� =� I� I� I� I� I� I� Z� Z� Z� Z� Z� Z� ?� ?� ?� ?� ?� ?� G� G� G� G� G� G���c�� �4D� ��n�I]� � � � �R�� R�.>� R�>� R� R� R� R�$�3� �$�s�)� �� � � � �
�� �� � � � � � r   
```

---
## File: ./codeconcat/parser/__pycache__/doc_extractor.cpython-311.pyc
```pyc
�

    ��ogE  �                   �   � d dl Z d dlmZ d dlmZ d dlmZmZ dee         dedee         fd�Z	d	ed
ee         de
fd�Zd	edefd�Zd	edefd
�Z
dS )�    N)�List)�ThreadPoolExecutor)�CodeConCatConfig�
ParsedDocData�
file_paths�config�returnc                 ��   �� �fd�| D �   �         }t          �j        ��  �        5 }t          |�                    d� |�  �        �  �        }d d d �  �         n# 1 swxY w Y   |S )Nc                 �>   �� g | ]}t          |�j        �  �        �|��S � )�is_doc_file�doc_extensions)�.0�fpr   s     ��V/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/doc_extractor.py�
<listcomp>z extract_docs.<locals>.<listcomp>	   s+   �� �S�S�S��K��F�<Q�,R�,R�S��S�S�S�    )�max_workersc                 �    � t          | �  �        S )N)�parse_doc_file)r   s    r   �<lambda>zextract_docs.<locals>.<lambda>   s   � �~�b�/A�/A� r   )r   r   �list�map)r   r   �	doc_paths�executor�resultss    `   r   �extract_docsr      s�   �� �S�S�S�S�j�S�S�S�I�	��(:�	;�	;�	;� O�x��x�|�|�$A�$A�9�M�M�N�N��O� O� O� O� O� O� O� O� O� O� O���� O� O� O� O��Ns   �%A�A�A�	file_path�doc_extsc                 �x   � t           j        �                    | �  �        d         �                    �   �         }||v S )N�   )�os�path�splitext�lower)r   r   �exts      r   r
   r
      s2   � �
�'�
�
�9�
%�
%�a�
(�
.�
.�
0�
0�C��(�?�r   c                 ��   � t           j        �                    | �  �        d         �                    �   �         }t	          | �  �        }|�                    d�  �        }t
          | ||��  �        S )Nr!   �.)r   �doc_type�content)r"   r#   r$   r%   �read_doc_content�lstripr   )r   r&   r*   r)   s       r   r   r      sY   � �
�'�
�
�9�
%�
%�a�
(�
.�
.�
0�
0�C��y�)�)�G��z�z�#���H��9�x��Q�Q�Q�Qr   c                 �   � 	 t          | ddd��  �        5 }|�                    �   �         cd d d �  �         S # 1 swxY w Y   d S # t          $ r Y dS w xY w)N�rzutf-8�replace)�encoding�errors� )�open�read�	Exception)r   �fs     r   r+   r+      s�   � ��
�)�S�7�9�
E�
E�
E� 	���6�6�8�8�	� 	� 	� 	� 	� 	� 	� 	� 	� 	� 	� 	���� 	� 	� 	� 	� 	� 	��� � � ��r�r����s,   �A �6�A �:�A �:�A �
A�A)r"   �typingr   �concurrent.futuresr   �codeconcat.typesr   r   �strr   �boolr
   r   r+   r   r   r   �<module>r<      s�   �� 	�	�	�	� � � � � � � 1� 1� 1� 1� 1� 1� <� <� <� <� <� <� <� <��T�#�Y� �0@� �T�-�EX� � � � ��3� �$�s�)� �� � � � �
R�c� R�m� R� R� R� R��� �� � � � � � r   
```

---
## File: ./codeconcat/parser/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �Q/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/__init__.py�<module>r      s   �� � r   
```

---
## File: ./codeconcat/parser/language_parsers/julia_parser.py
### Function: parse_julia
```python
import re
from codeconcat.types import ParsedFileData, Declaration

def parse_julia(file_path: str, content: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []

    func_pattern = re.compile(r'^\s*function\s+(\w+)\s*\(')
    struct_pattern = re.compile(r'^\s*(mutable\s+)?struct\s+(\w+)')

    for i, line in enumerate(lines):
        fm = func_pattern.match(line)
        if fm:
            declarations.append(Declaration("function", fm.group(1), i+1, i+1))

        sm = struct_pattern.match(line)
        if sm:
            declarations.append(Declaration("struct", sm.group(2), i+1, i+1))

    return ParsedFileData(file_path=file_path, language="julia", content=content, declarations=declarations)

```

---
## File: ./codeconcat/parser/language_parsers/__init__.py
```python

```

---
## File: ./codeconcat/parser/language_parsers/js_ts_parser.py
### Function: parse_javascript_or_typescript
```python
import re
from codeconcat.types import ParsedFileData, Declaration

func_pattern = re.compile(r'^\s*(?:export\s+)?function\s+(\w+)\s*\(')
class_pattern = re.compile(r'^\s*(?:export\s+)?class\s+(\w+)\s*[\{\(]?')

def parse_javascript_or_typescript(file_path: str, content: str, language: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []

    for i, line in enumerate(lines):
        fm = func_pattern.match(line)
        if fm:
            declarations.append(Declaration("function", fm.group(1), i+1, i+1))

        cm = class_pattern.match(line)
        if cm:
            declarations.append(Declaration("class", cm.group(1), i+1, i+1))

    return ParsedFileData(file_path=file_path, language=language, content=content, declarations=declarations)

```

---
## File: ./codeconcat/parser/language_parsers/python_parser.py
### Function: parse_python
```python
import re
from codeconcat.types import ParsedFileData, Declaration

def parse_python(file_path: str, content: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []

    func_pattern = re.compile(r'^\s*def\s+(\w+)\s*\(')
    class_pattern = re.compile(r'^\s*class\s+(\w+)\s*[\(:]?')

    for i, line in enumerate(lines):
        fmatch = func_pattern.match(line)
        if fmatch:
            declarations.append(Declaration("function", fmatch.group(1), i+1, i+1))

        cmatch = class_pattern.match(line)
        if cmatch:
            declarations.append(Declaration("class", cmatch.group(1), i+1, i+1))

    return ParsedFileData(file_path=file_path, language="python", content=content, declarations=declarations)

```

---
## File: ./codeconcat/parser/language_parsers/r_parser.py
### Function: parse_r
```python
import re
from codeconcat.types import ParsedFileData, Declaration

def parse_r(file_path: str, content: str) -> ParsedFileData:
    lines = content.splitlines()
    declarations = []
    func_pattern = re.compile(r'^\s*(\w+)\s*<-\s*function\s*\(.*\)\s*\{?')

    for i, line in enumerate(lines):
        match = func_pattern.match(line)
        if match:
            declarations.append(Declaration("function", match.group(1), i+1, i+1))

    return ParsedFileData(file_path=file_path, language="r", content=content, declarations=declarations)

```

---
## File: ./codeconcat/parser/language_parsers/__pycache__/julia_parser.cpython-311.pyc
```pyc
�

    Q�og�  �                   �2   � d dl Z d dlmZmZ dededefd�ZdS )�    N)�ParsedFileData�Declaration�	file_path�content�returnc           
      �"  � |�                     �   �         }g }t          j        d�  �        }t          j        d�  �        }t          |�  �        D ]�\  }}|�                    |�  �        }|r>|�                    t
          d|�                    d�  �        |dz   |dz   �  �        �  �         |�                    |�  �        }	|	r>|�                    t
          d|	�                    d�  �        |dz   |dz   �  �        �  �         ��t          | d||��  �        S )	Nz^\s*function\s+(\w+)\s*\(z^\s*(mutable\s+)?struct\s+(\w+)�function�   �struct�   �julia)r   �languager   �declarations)	�
splitlines�re�compile�	enumerate�match�appendr   �groupr   )
r   r   �linesr   �func_pattern�struct_pattern�i�line�fm�sms
             �f/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/language_parsers/julia_parser.py�parse_juliar      s  � ���� � �E��L��:�:�;�;�L��Z� B�C�C�N��U�#�#� N� N���4�
�
�
��
%�
%��
� 	P�����J�������Q�q�S�!�A�#� N� N�O�O�O�
�
!�
!�$�
'�
'��
� 	N�����H�b�h�h�q�k�k�1�Q�3��!�� L� L�M�M�M���I���_k�l�l�l�l�    )r   �codeconcat.typesr   r   �strr   � r    r   �<module>r$      sb   �� 	�	�	�	� 8� 8� 8� 8� 8� 8� 8� 8�m�3� m�� m�� m� m� m� m� m� mr    
```

---
## File: ./codeconcat/parser/language_parsers/__pycache__/r_parser.cpython-311.pyc
```pyc
�

    C�og!  �                   �2   � d dl Z d dlmZmZ dededefd�ZdS )�    N)�ParsedFileData�Declaration�	file_path�content�returnc           
      �P  � |�                     �   �         }g }t          j        d�  �        }t          |�  �        D ]Z\  }}|�                    |�  �        }|r>|�                    t
          d|�                    d�  �        |dz   |dz   �  �        �  �         �[t          | d||��  �        S )Nz(^\s*(\w+)\s*<-\s*function\s*\(.*\)\s*\{?�function�   �r)r   �languager   �declarations)	�
splitlines�re�compile�	enumerate�match�appendr   �groupr   )r   r   �linesr
   �func_pattern�i�liner   s           �b/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/language_parsers/r_parser.py�parse_rr      s�   � ���� � �E��L��:�I�J�J�L��U�#�#� S� S���4��"�"�4�(�(��� 	S�����J����A����!��Q�q�S� Q� Q�R�R�R���I��W�[g�h�h�h�h�    )r   �codeconcat.typesr   r   �strr   � r   r   �<module>r      sb   �� 	�	�	�	� 8� 8� 8� 8� 8� 8� 8� 8�
i�s� 
i�S� 
i�^� 
i� 
i� 
i� 
i� 
i� 
ir   
```

---
## File: ./codeconcat/parser/language_parsers/__pycache__/python_parser.cpython-311.pyc
```pyc
�

    +�og�  �                   �2   � d dl Z d dlmZmZ dededefd�ZdS )�    N)�ParsedFileData�Declaration�	file_path�content�returnc           
      �"  � |�                     �   �         }g }t          j        d�  �        }t          j        d�  �        }t          |�  �        D ]�\  }}|�                    |�  �        }|r>|�                    t
          d|�                    d�  �        |dz   |dz   �  �        �  �         |�                    |�  �        }	|	r>|�                    t
          d|	�                    d�  �        |dz   |dz   �  �        �  �         ��t          | d||��  �        S )Nz^\s*def\s+(\w+)\s*\(z^\s*class\s+(\w+)\s*[\(:]?�function�   �class�python)r   �languager   �declarations)	�
splitlines�re�compile�	enumerate�match�appendr   �groupr   )
r   r   �linesr   �func_pattern�
class_pattern�i�line�fmatch�cmatchs
             �g/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/language_parsers/python_parser.py�parse_pythonr      s  � ���� � �E��L��:�5�6�6�L��J�<�=�=�M��U�#�#� Q� Q���4��#�#�D�)�)��� 	T�����J����Q����1��a�PQ�c� R� R�S�S�S��$�$�T�*�*��� 	Q�����G�V�\�\�!�_�_�a��c�1�Q�3� O� O�P�P�P���I��'�`l�m�m�m�m�    )r   �codeconcat.typesr   r   �strr   � r   r   �<module>r#      sb   �� 	�	�	�	� 8� 8� 8� 8� 8� 8� 8� 8�n�C� n�#� n�.� n� n� n� n� n� nr   
```

---
## File: ./codeconcat/parser/language_parsers/__pycache__/js_ts_parser.cpython-311.pyc
```pyc
�

    6�og  �                   �v   � d dl Z d dlmZmZ  e j        d�  �        Z e j        d�  �        Zdedededefd	�ZdS )
�    N)�ParsedFileData�Declarationz'^\s*(?:export\s+)?function\s+(\w+)\s*\(z)^\s*(?:export\s+)?class\s+(\w+)\s*[\{\(]?�	file_path�content�language�returnc           
      ��  � |�                     �   �         }g }t          |�  �        D ]�\  }}t          �                    |�  �        }|r>|�                    t          d|�                    d�  �        |dz   |dz   �  �        �  �         t          �                    |�  �        }|r>|�                    t          d|�                    d�  �        |dz   |dz   �  �        �  �         ��t          | |||��  �        S )N�function�   �class)r   r   r   �declarations)	�
splitlines�	enumerate�func_pattern�match�appendr   �group�
class_patternr   )	r   r   r   �linesr
   �i�line�fm�cms	            �f/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/language_parsers/js_ts_parser.py�parse_javascript_or_typescriptr      s�   � ���� � �E��L��U�#�#� M� M���4�
�
�
��
%�
%��
� 	P�����J�������Q�q�S�!�A�#� N� N�O�O�O�
�
 �
 ��
&�
&��
� 	M�����G�R�X�X�a�[�[�!�A�#�q��s� K� K�L�L�L���I��'�`l�m�m�m�m�    )	�re�codeconcat.typesr   r   �compiler   r   �strr   � r   r   �<module>r"      s�   �� 	�	�	�	� 8� 8� 8� 8� 8� 8� 8� 8��r�z�D�E�E����
�G�H�H�
�
n�c� 
n�C� 
n�3� 
n�Sa� 
n� 
n� 
n� 
n� 
n� 
nr   
```

---
## File: ./codeconcat/parser/language_parsers/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �b/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/parser/language_parsers/__init__.py�<module>r      s   �� � r   
```

---
## File: ./codeconcat/writer/markdown_writer.py
### Function: write_markdown
```python
from typing import List
from codeconcat.types import AnnotatedFileData, ParsedDocData, CodeConCatConfig

def write_markdown(
    annotated_files: List[AnnotatedFileData],
    docs: List[ParsedDocData],
    config: CodeConCatConfig,
    folder_tree_str: str = ""
) -> str:
    output_chunks = []
    output_chunks.append("# CodeConCat Output\n\n")

    if folder_tree_str:
        output_chunks.append("## Folder Tree\n")
        output_chunks.append("```\n")
        output_chunks.append(folder_tree_str)
        output_chunks.append("\n```\n\n")

    for ann in annotated_files:
        output_chunks.append(ann.annotated_content)
        output_chunks.append("\n---\n")

    if config.docs and config.merge_docs and docs:
        output_chunks.append("\n## Documentation\n\n")
        for doc in docs:
            output_chunks.append(f"### Doc File: {doc.file_path}\n")
            output_chunks.append(f"```\n{doc.content}\n```\n\n")
            output_chunks.append("---\n")

    final_str = "".join(output_chunks)

    with open(config.output, "w", encoding="utf-8") as f:
        f.write(final_str)

    print(f"[CodeConCat] Markdown output written to: {config.output}")
    return final_str

```

---
## File: ./codeconcat/writer/__init__.py
```python

```

---
## File: ./codeconcat/writer/json_writer.py
### Function: write_json
```python
import json
from typing import List
from codeconcat.types import AnnotatedFileData, ParsedDocData, CodeConCatConfig

def write_json(
    annotated_files: List[AnnotatedFileData],
    docs: List[ParsedDocData],
    config: CodeConCatConfig,
    folder_tree_str: str = ""
) -> str:
    data = {
        "code": [],
        "docs": []
    }

    if folder_tree_str:
        data["folder_tree"] = folder_tree_str

    for ann in annotated_files:
        data["code"].append({
            "file_path": ann.file_path,
            "language": ann.language,
            "annotated_content": ann.annotated_content
        })

    if config.docs:
        for doc in docs:
            data["docs"].append({
                "file_path": doc.file_path,
                "doc_type": doc.doc_type,
                "content": doc.content
            })

    final_json = json.dumps(data, indent=2)

    with open(config.output, "w", encoding="utf-8") as f:
        f.write(final_json)

    print(f"[CodeConCat] JSON output written to: {config.output}")
    return final_json

```

---
## File: ./codeconcat/writer/__pycache__/json_writer.cpython-311.pyc
```pyc
�

     vg"  �                   �f   � d dl Z d dlmZ d dlmZmZmZ 	 ddee         dee         deded	ef
d
�ZdS )�    N)�List)�AnnotatedFileData�
ParsedDocData�CodeConCatConfig� �annotated_files�docs�config�folder_tree_str�returnc                 ��  � g g d�}|r||d<   | D ]0}|d         �                     |j        |j        |j        d��  �         �1|j        r3|D ]0}|d         �                     |j        |j        |j        d��  �         �1t          j        |d��  �        }t          |j
        d	d
��  �        5 }|�                    |�  �         d d d �  �         n# 1 swxY w Y   t          d|j
        � ��  �         |S )
N)�coder	   �folder_treer   )�	file_path�language�annotated_contentr	   )r   �doc_type�content�   )�indent�wzutf-8)�encodingz%[CodeConCat] JSON output written to: )
�appendr   r   r   r	   r   r   �json�dumps�open�output�write�print)	r   r	   r
   r   �data�ann�doc�
final_json�fs	            �T/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/writer/json_writer.py�
write_jsonr&      s{  � � ��� �D�
 � .�-��]��� � ���V��������!$�!6�
� 
� 	� 	� 	� 	� �{� �� 	� 	�C���L��� �]��L��;�!� !� 
� 
� 
� 
� ��D��+�+�+�J�	
�f�m�S�7�	3�	3�	3� �q�	���
����� � � � � � � � � � ���� � � � � 
�
A�&�-�
A�
A�B�B�B��s   �'C	�	C
�C
)r   )	r   �typingr   �codeconcat.typesr   r   r   �strr&   � �    r%   �<module>r,      s�   �� ���� � � � � � � O� O� O� O� O� O� O� O� O� O� �	#� #��+�,�#�
�}�
�#� 
�#� �	#�
 	�#� #� #� #� #� #r+   
```

---
## File: ./codeconcat/writer/__pycache__/markdown_writer.cpython-311.pyc
```pyc
�

    
 vg�  �                   �^   � d dl mZ d dlmZmZmZ 	 ddee         dee         dededef
d	�Zd
S )�    )�List)�AnnotatedFileData�
ParsedDocData�CodeConCatConfig� �annotated_files�docs�config�folder_tree_str�returnc                 �  � g }|�                     d�  �         |rT|�                     d�  �         |�                     d�  �         |�                     |�  �         |�                     d�  �         | D ]1}|�                     |j        �  �         |�                     d�  �         �2|j        rt|j        rm|rk|�                     d�  �         |D ]S}|�                     d|j        � d��  �         |�                     d|j        � d��  �         |�                     d	�  �         �Td
�                    |�  �        }t          |j        dd�
�  �        5 }|�	                    |�  �         d d d �  �         n# 1 swxY w Y   t          d|j        � ��  �         |S )Nz# CodeConCat Output

z## Folder Tree
z```
z
```

z
---
z
## Documentation

z### Doc File: �
z---
r   �wzutf-8)�encodingz)[CodeConCat] Markdown output written to: )�append�annotated_contentr	   �
merge_docs�	file_path�content�join�open�output�write�print)	r   r	   r
   r   �
output_chunks�ann�doc�	final_str�fs	            �X/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/writer/markdown_writer.py�write_markdownr!      s�  � � �M����2�3�3�3�� *����/�0�0�0����W�%�%�%����_�-�-�-����[�)�)�)�� (� (�����S�2�3�3�3����Y�'�'�'�'�
�{� *�v�(� *�T� *����5�6�6�6�� 	*� 	*�C�� � �!C�#�-�!C�!C�!C�D�D�D�� � �!?���!?�!?�!?�@�@�@�� � ��)�)�)�)����
�&�&�I�	
�f�m�S�7�	3�	3�	3� �q�	���	����� � � � � � � � � � ���� � � � � 
�
E�f�m�
E�
E�F�F�F��s   �	E+�+E/�2E/N)r   )�typingr   �codeconcat.typesr   r   r   �strr!   � �    r    �<module>r'      s�   �� � � � � � � O� O� O� O� O� O� O� O� O� O� �	 �  ��+�,� �
�}�
� � 
� � �	 �
 	� �  �  �  �  �  r&   
```

---
## File: ./codeconcat/writer/__pycache__/__init__.cpython-311.pyc
```pyc
�

    ��og    �                   �   � d S )N� r   �    �Q/Users/biostochastics/Development/GitHub/codeconcat/codeconcat/writer/__init__.py�<module>r      s   �� � r   
```

---
